<?php
	include 'php_files/functions.php';
	session_start();
	clearSessionBools();
	if(isset($_SESSION['usr']) && isset($_SESSION['pswd'])){
		//user logged in proceed
		$_SESSION['api_token']="tok_CcUbJqjQgYboQfYM4DuVHHIjdHuHFtjxlqeb0u9ZxCv";
	}else{
		//not logged in, redirect to login
		header("Location: login.html");
		exit();
	}
?>
<!DOCTYPE html>
<html>
	<head>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
	<script rel="text/javascript" src="nano.js"></script>
	<script rel="text/javascript" src="jquery-calendar.js"></script>
	</head>
	
<body>
		<div id="navcontainer">
		
			<div id="navbar">
				<div id="imgcontainer">
					<img id="navlogo" src="resources/AELogo2.png" />
				</div>
				<div id="navmenu">
					<div class="navmenuitem">
						<a class="navmenutext" href="php_files/logoff.php">SIGN OUT</a>
					</div>
					<div class="navmenuitem">
						<a class="navmenutext" href="https://accelentertainment.com">BACK TO MAIN SITE</a>
					</div>
					<div class="clear">
					</div>
				</div>
			</div>
			
		</div>
			
		<div id="accountlistcontainer">
			
			<div id="accountswrapper" class="nano" >
				<div class="content">
					<div class="accountrowempty"></div>
					<div id="ar1" class="accountrow" onclick="changeAccount('ar1')">103 East</div>
					<div id="ar2" class="accountrow" onclick="changeAccount('ar2')">Hucks 365</div>
					<div id="ar3" class="accountrow" onclick="changeAccount('ar3')">Bella's Bistro</div>
					<div id="ar4" class="accountrow" onclick="changeAccount('ar4')">Hucks 386</div>
					<div id="ar5" class="accountrow" onclick="changeAccount('ar5')">Henry's Hotdogs</div>
				</div>
			</div>
		</div>

		<div id="maintablecontainer">
			<div class="containerlabel2">
					<button class="contenttablebutton contentbutton" onclick="changeTab(event, 'contentreports')">VGT Reports</button>
					<button class="noborderradius contentbutton" onclick="changeTab(event, 'calendarfoot')">Foot Traffic Calendar</button>
					<button class="noborderradius contentbutton" onclick="changeTab(event, 'graphfoot')">Foot Traffic Graph</button>
					<button class="noborderradius contentbutton" onclick="changeTab(event, 'contentabsolute')">Absolute Edge Layout</button>
					<button class="norightborder contentbutton" onclick="changeTab(event, 'contentsettings')">Settings</button>
			</div>
			<div class="clear">
			</div>
			<div id="contentwelcome">Welcome back Mark, select a Location and Menu Option to get started</div>
			<div id="contentreports" class="tabcontent">Linked BI360 Reports show here
			</div>
			<div id="calendarfoot" class="tabcontent">
				<div id="calendarwrap">
					<div id="calhead" class="calheadclass">
						<div id="calprev">
							<div id="calprevpointer" class="calprevbtn"> <span class="calbtn"> < </span> </div>
							<div class="clear"></div>
						</div>
						<div id="caltitle"></div>
						<div id="calnext">
							<div id="calnextpointer" class="calnextbtn"> <span class="calbtn"> > </span> </div>
							<div class="clear"></div>
						</div>
					</div>
					<div id="calbody" class="calbodyclass">
						<table>
							<tr>
								<th>Su</th>
								<th>Mo</th>
								<th>Tu</th>
								<th>We</th>
								<th>Th</th>
								<th>Fr</th>
								<th>Sa</th>
							</tr>
							<tr>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
							</tr>
							<tr>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
							</tr><tr>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
							</tr><tr>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
							</tr><tr>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
							</tr>
							<tr>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
							</tr>
								
						</table>
					</div>
				</div>
				<div id="calendardrilldownwrap">
					<div id="drilldownheader">Hour by Hour</div>
					<div id="drilldowncontent">
					<br><br><br>
						11pm - 12am<br>
						10pm - 11pm<br>
						9pm - 10pm<br>
						8pm - 9pm<br>
						7pm - 8pm<br>
						6pm - 7pm<br>
						5pm - 6pm<br>
						4pm - 5pm<br>
						3pm - 4pm<br>
						2pm - 3pm<br>
						1pm - 2pm<br>
						12pm - 1pm<br>
						11am - 12pm<br>
						10am - 11am<br>
						9am - 10am<br>
						8am - 9am<br>
						7am - 8am<br>
						6am - 7am<br>
						5am - 6am<br>
						4am - 5am<br>
						3am - 4am<br>
						2am - 3am<br>
						1am - 2am<br>
						12am - 1am<br>
					</div>
				</div>
				
			</div>
			<div id="graphfoot" class="tabcontent">
				<canvas id = "countcanvas"></canvas>
			</div>
			<div id="contentabsolute" class="tabcontent">Field Inputs and iframe example window show here
			</div>
			<div id="contentsettings" class="tabcontent">User/Location settings show here
			</div>
		</div>
		<div class="clear">
		</div>
		
		
		<script>
			var ctx = document.getElementById("countcanvas").getContext('2d');
			var myChart = new Chart(ctx, {
				type: 'bar',
				data: {
					labels: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
					datasets: [{
						label: 'Traffic Count',
						data: [12, 19, 3, 5, 2, 3],
						backgroundColor: [
							'rgba(255, 99, 132, 0.2)',
							'rgba(54, 162, 235, 0.2)',
							'rgba(255, 206, 86, 0.2)',
							'rgba(75, 192, 192, 0.2)',
							'rgba(153, 102, 255, 0.2)',
							'rgba(255, 159, 64, 0.2)'
						],
						borderColor: [
							'rgba(255,99,132,1)',
							'rgba(54, 162, 235, 1)',
							'rgba(255, 206, 86, 1)',
							'rgba(75, 192, 192, 1)',
							'rgba(153, 102, 255, 1)',
							'rgba(255, 159, 64, 1)'
						],
						borderWidth: 1
					}]
				},
				options: {
					scales: {
						yAxes: [{
							ticks: {
								beginAtZero:true
							}
						}]
					}
				}
			});
		</script>
		<script>
			function changeAccount(accDiv){
				var i, accounts,selectedaccount;
				selectedaccount = document.getElementById(accDiv);
				accounts=document.getElementsByClassName("accountrowselected");
				for(i = 0; i<accounts.length; i++){
					accounts[i].className = accounts[i].className.replace("accountrowselected", "accountrow");
				}
				selectedaccount.className = "accountrowselected";
			}
		</script>
		<script>
			$(".nano").nanoScroller();
		</script>
		<script>
			function changeTab(evt, divname) {
				var i, tabcontent, tabbuttons;
				tabcontent = document.getElementsByClassName("tabcontent");
				for (i = 0; i < tabcontent.length; i++) {
					tabcontent[i].style.display = "none";
					
				}
				tabbuttons = document.getElementsByClassName("contentbutton");
				for (i = 0; i < tabbuttons.length; i++) {
					tabbuttons[i].className = tabbuttons[i].className.replace(" active", "");
				}
				document.getElementById("contentwelcome").style.display = "none";
				document.getElementById(divname).style.display = "block";
				evt.currentTarget.className += " active";
			}
		</script>
		
		
		<script>
			$(document).ready(

		 function()
            {
                $("#calendarwrap").calendar(new Date());
            }
		
	);
		</script>
		
</body>
</html>